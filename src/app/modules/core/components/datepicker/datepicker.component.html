<div [ngSwitch]="this.size">

    <form *ngSwitchCase="DatepickerSizes.DEFAULT">
        <div *ngIf="!readOnly; else readOnlyInput" class="input-group datepicker--default">
              <input class="form-control"
                placeholder="Select a date"
                ngx-mydatepicker
                name="date{{objectId}}"
                [(ngModel)]="model"
                [options]="datepickerOptions"
                #dp="ngx-mydatepicker"
                (dateChanged)="onDateChanged($event)"
                [disabled]="disabled"
                />
          <span class="input-group-append"
          [ngClass]="{
            'none': clearButton === 'none',
            'invisible': clearButton === 'invisible'
          }">
              <button type="button" class="btn btn-default" (click)="dp.toggleCalendar()">
                  <i class="fa fa-calendar"></i>
              </button>
          </span>
        </div>

    </form>

    <form *ngSwitchCase="DatepickerSizes.MINI">
        <div class="input-group datepicker--mini" [ngClass]="{'hide-clear': clearButton === 'none' || clearButton === 'invisible', disabled: disabled}">
            <button type="button" class='btn btn-outline-primary btn-sm'
              ngx-mydatepicker
              name="date-mini{{objectId}}"
              [(ngModel)]="model"
              [options]="datepickerOptions"
              #dp="ngx-mydatepicker"
              (dateChanged)="onDateChanged($event)"
              (click)="dp.toggleCalendar()"
              [disabled]="disabled">
              {{ model?.formatted || model?.date || 'Select a date' }}
            </button>
            <input type="hidden" name="date" [value]="model?.date" />


            <span class="input-group-append" [ngClass]="{
              'none': clearButton === 'none',
              'invisible': clearButton === 'invisible'
            }">
                <button type="button" class="btn btn-outline-primary" (click)="dp.clearDate()" [disabled]="disabled" >
                    <i class="fa fa-close"></i>
                </button>
            </span>
        </div>
    </form>
</div>

<ng-template #readOnlyInput>
    <div class="input-group datepicker--default datepicker--reasonly">
        <input class="form-control"
            placeholder="Select a date"
            name="date{{objectId}}"
            disabled
            [value]="formatDate(date)"
        />
    </div>
</ng-template>


